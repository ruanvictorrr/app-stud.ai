{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/ruangalvao/ProjetosVS/Projetos%20Pessoais/stud.ai-app/app-stud.ai/src/lib/studyMaterialStore.ts"],"sourcesContent":["// src/lib/studyMaterialStore.ts\nexport type Flashcard = {\n  id: number;\n  question: string;\n  answer: string;\n};\n\nexport type SummaryTopic = {\n  id: number;\n  title: string;\n  content: string;\n  icon: string;\n};\n\nexport type StudySummary = {\n  title: string;\n  mainTopics: SummaryTopic[];\n  keyPoints: string[];\n};\n\nexport type StudyMaterial = {\n  topic: string;\n  flashcards: Flashcard[];\n  summary: StudySummary;\n  // opcionais (se voc√™ quiser usar depois)\n  materialId?: string;\n  createdAt?: string;\n};\n\nconst STORAGE_KEY = \"studai:lastMaterial:v1\";\nconst EVENT_NAME = \"studai:material_updated\";\n\nexport function normalizeFromApi(payload: any): StudyMaterial | null {\n  // aceita:\n  // - { success:true, data:{...} }\n  // - { topic, flashcards, summary }\n  const data = payload?.data ?? payload;\n\n  const topic = data?.topic;\n  const flashcards = data?.flashcards;\n  const summary = data?.summary;\n\n  if (!topic || !Array.isArray(flashcards) || !summary) return null;\n\n  if (\n    typeof summary?.title !== \"string\" ||\n    !Array.isArray(summary?.mainTopics) ||\n    !Array.isArray(summary?.keyPoints)\n  ) {\n    return null;\n  }\n\n  return {\n    topic,\n    flashcards,\n    summary,\n    materialId: payload?.meta?.materialId ?? payload?.materialId ?? data?.materialId,\n    createdAt: new Date().toISOString(),\n  };\n}\n\nexport function saveMaterial(material: StudyMaterial) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(material));\n  window.dispatchEvent(new Event(EVENT_NAME));\n}\n\nexport function loadMaterial(): StudyMaterial | null {\n  if (typeof window === \"undefined\") return null;\n  const raw = localStorage.getItem(STORAGE_KEY);\n  if (!raw) return null;\n\n  try {\n    return JSON.parse(raw) as StudyMaterial;\n  } catch {\n    return null;\n  }\n}\n\nexport function clearMaterial() {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(STORAGE_KEY);\n  window.dispatchEvent(new Event(EVENT_NAME));\n}\n\nexport function onMaterialUpdated(cb: () => void) {\n  if (typeof window === \"undefined\") return () => {};\n\n  const handler = () => cb();\n  window.addEventListener(EVENT_NAME, handler);\n\n  // tamb√©m reage quando outro tab atualiza\n  const storageHandler = (e: StorageEvent) => {\n    if (e.key === STORAGE_KEY) cb();\n  };\n  window.addEventListener(\"storage\", storageHandler);\n\n  return () => {\n    window.removeEventListener(EVENT_NAME, handler);\n    window.removeEventListener(\"storage\", storageHandler);\n  };\n}\n"],"names":[],"mappings":"AAAA,gCAAgC;;;;;;;;AA6BhC,MAAM,cAAc;AACpB,MAAM,aAAa;AAEZ,SAAS,iBAAiB,OAAY;QAwB7B;QApBD;IAHb,UAAU;IACV,iCAAiC;IACjC,mCAAmC;IACnC,MAAM,OAAO,CAAA,gBAAA,oBAAA,8BAAA,QAAS,IAAI,cAAb,2BAAA,gBAAiB;IAE9B,MAAM,QAAQ,iBAAA,2BAAA,KAAM,KAAK;IACzB,MAAM,aAAa,iBAAA,2BAAA,KAAM,UAAU;IACnC,MAAM,UAAU,iBAAA,2BAAA,KAAM,OAAO;IAE7B,IAAI,CAAC,SAAS,CAAC,MAAM,OAAO,CAAC,eAAe,CAAC,SAAS,OAAO;IAE7D,IACE,QAAO,oBAAA,8BAAA,QAAS,KAAK,MAAK,YAC1B,CAAC,MAAM,OAAO,CAAC,oBAAA,8BAAA,QAAS,UAAU,KAClC,CAAC,MAAM,OAAO,CAAC,oBAAA,8BAAA,QAAS,SAAS,GACjC;QACA,OAAO;IACT;QAMc,0BAAA;IAJd,OAAO;QACL;QACA;QACA;QACA,YAAY,CAAA,OAAA,CAAA,2BAAA,oBAAA,+BAAA,gBAAA,QAAS,IAAI,cAAb,oCAAA,cAAe,UAAU,cAAzB,sCAAA,2BAA6B,oBAAA,8BAAA,QAAS,UAAU,cAAhD,kBAAA,OAAoD,iBAAA,2BAAA,KAAM,UAAU;QAChF,WAAW,IAAI,OAAO,WAAW;IACnC;AACF;AAEO,SAAS,aAAa,QAAuB;IAClD;;IACA,aAAa,OAAO,CAAC,aAAa,KAAK,SAAS,CAAC;IACjD,OAAO,aAAa,CAAC,IAAI,MAAM;AACjC;AAEO,SAAS;IACd;;IACA,MAAM,MAAM,aAAa,OAAO,CAAC;IACjC,IAAI,CAAC,KAAK,OAAO;IAEjB,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,UAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS;IACd;;IACA,aAAa,UAAU,CAAC;IACxB,OAAO,aAAa,CAAC,IAAI,MAAM;AACjC;AAEO,SAAS,kBAAkB,EAAc;IAC9C;;IAEA,MAAM,UAAU,IAAM;IACtB,OAAO,gBAAgB,CAAC,YAAY;IAEpC,yCAAyC;IACzC,MAAM,iBAAiB,CAAC;QACtB,IAAI,EAAE,GAAG,KAAK,aAAa;IAC7B;IACA,OAAO,gBAAgB,CAAC,WAAW;IAEnC,OAAO;QACL,OAAO,mBAAmB,CAAC,YAAY;QACvC,OAAO,mBAAmB,CAAC,WAAW;IACxC;AACF","debugId":null}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///Users/ruangalvao/ProjetosVS/Projetos%20Pessoais/stud.ai-app/app-stud.ai/src/app/components/UploadSection.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { useRouter } from \"next/navigation\";\nimport { Upload, BookOpen, Sparkles, TrendingUp } from \"lucide-react\";\nimport { normalizeFromApi, saveMaterial } from \"@/lib/studyMaterialStore\";\n\ntype UsageInfo = {\n  allowed: boolean;\n  plan: \"FREE\" | \"PRO\" | \"ADMIN\";\n  monthlyUsed: number | null;\n  limit: number | null;\n};\n\ntype SummaryStyle = \"bullet\" | \"explained\";\ntype Difficulty = \"easy\" | \"medium\" | \"hard\";\n\nexport default function UploadSection({\n  onDataProcessed,\n  onNavigate,\n}: {\n  onDataProcessed?: (data: any) => void;\n  onNavigate?: (section: \"flashcards\" | \"summary\") => void;\n}) {\n  const router = useRouter();\n  const inputRef = useRef<HTMLInputElement | null>(null);\n\n  const [isUploading, setIsUploading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [successInfo, setSuccessInfo] = useState<{ topic: string } | null>(null);\n\n  // op√ß√µes (como voc√™ pediu)\n  const [flashcardsCount, setFlashcardsCount] = useState(10);\n  const [difficulty, setDifficulty] = useState<Difficulty>(\"medium\");\n  const [summaryStyle, setSummaryStyle] = useState<SummaryStyle>(\"explained\");\n  const [topicsCount, setTopicsCount] = useState(4);\n\n  // plano/limite\n  const [usageLoading, setUsageLoading] = useState(true);\n  const [usage, setUsage] = useState<UsageInfo | null>(null);\n\n  async function loadUsage() {\n    setUsageLoading(true);\n    try {\n      const res = await fetch(\"/api/usage/can-process\", { cache: \"no-store\" });\n      const json = await res.json();\n\n      if (!res.ok || !json?.success) {\n        setUsage(null);\n        return;\n      }\n\n      setUsage({\n        allowed: !!json.allowed,\n        plan: json.plan,\n        monthlyUsed: json.monthlyUsed ?? null,\n        limit: json.limit ?? null,\n      });\n    } catch {\n      setUsage(null);\n    } finally {\n      setUsageLoading(false);\n    }\n  }\n\n  useEffect(() => {\n    loadUsage();\n  }, []);\n\n  function onPickFile() {\n    inputRef.current?.click();\n  }\n\n  async function onFileChange(e: React.ChangeEvent<HTMLInputElement>) {\n    const file = e.target.files?.[0];\n    if (!file) return;\n    await handleUpload(file);\n    e.target.value = \"\";\n  }\n\n  async function onDrop(e: React.DragEvent<HTMLDivElement>) {\n    e.preventDefault();\n    const file = e.dataTransfer.files?.[0];\n    if (!file) return;\n    await handleUpload(file);\n  }\n\n  function onDragOver(e: React.DragEvent<HTMLDivElement>) {\n    e.preventDefault();\n  }\n\n  async function handleUpload(file: File) {\n    setError(null);\n    setSuccessInfo(null);\n\n    await loadUsage();\n\n    // se n√£o est√° logado\n    if (!usage && !usageLoading) {\n      setError(\"Voc√™ precisa estar logado para enviar arquivos.\");\n      router.push(\"/login\");\n      return;\n    }\n\n    // se FREE e estourou\n    if (usage?.plan === \"FREE\" && usage.allowed === false) {\n      setError(\"Voc√™ atingiu o limite do plano gr√°tis. Fa√ßa upgrade para continuar.\");\n      return;\n    }\n\n    setIsUploading(true);\n\n    try {\n      const formData = new FormData();\n      formData.append(\"file\", file);\n\n      // envia op√ß√µes pro backend\n      formData.append(\"flashcardsCount\", String(flashcardsCount));\n      formData.append(\"flashcardDifficulty\", difficulty);\n      formData.append(\"summaryStyle\", summaryStyle);\n      formData.append(\"topicsCount\", String(topicsCount));\n\n      const response = await fetch(\"/api/process-study-material\", {\n        method: \"POST\",\n        body: formData,\n      });\n\n      const json = await response.json();\n\n      if (!response.ok || !json?.success) {\n        if (json?.code === \"LIMIT_REACHED\") {\n          setError(\"Voc√™ atingiu o limite do plano gr√°tis. Fa√ßa upgrade para continuar.\");\n          await loadUsage();\n          return;\n        }\n\n        if (response.status === 401) {\n          setError(\"Voc√™ precisa estar logado para enviar arquivos.\");\n          router.push(\"/login\");\n          return;\n        }\n\n        throw new Error(json?.details || json?.error || \"Falha ao processar arquivo\");\n      }\n\n      const material = normalizeFromApi(json);\n      if (!material) {\n        throw new Error(\"Resposta inv√°lida: faltou topic/flashcards/summary.\");\n      }\n\n      // üî• PERSIST√äNCIA (n√£o some ao mudar de p√°gina/se√ß√£o)\n      saveMaterial(material);\n\n      // atualiza estado do app\n      onDataProcessed?.(material);\n\n      // UI de sucesso + bot√µes\n      setSuccessInfo({ topic: material.topic });\n\n      await loadUsage();\n    } catch (e: any) {\n      setError(e?.message || \"Erro inesperado\");\n    } finally {\n      setIsUploading(false);\n    }\n  }\n\n  // FREE meter\n  const showFreeMeter = usage?.plan === \"FREE\" && usage.limit != null && usage.monthlyUsed != null;\n  const used = showFreeMeter ? usage!.monthlyUsed! : 0;\n  const limit = showFreeMeter ? usage!.limit! : 0;\n  const pct = showFreeMeter ? Math.min(100, Math.round((used / Math.max(1, limit)) * 100)) : 0;\n\n  const isBlockedFree = usage?.plan === \"FREE\" && usage.allowed === false;\n\n  return (\n    <section className=\"w-full\">\n      {/* HERO (como antes) */}\n      <div className=\"text-center mb-8\">\n        <h2 className=\"text-4xl sm:text-5xl font-bold text-white\">\n          Transforme seus estudos\n        </h2>\n        <p className=\"mt-3 text-gray-400 max-w-2xl mx-auto\">\n          Fa√ßa upload de fotos, PDFs ou documentos e deixe a IA criar flashcards e resumos inteligentes para voc√™.\n        </p>\n      </div>\n\n      {/* Plano + contador FREE */}\n      <div className=\"mb-6 flex flex-col gap-3\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"text-sm text-gray-300\">\n            {usageLoading ? (\n              <span className=\"text-gray-500\">Carregando plano‚Ä¶</span>\n            ) : usage ? (\n              <>\n                <span className=\"text-gray-500\">Plano:</span>{\" \"}\n                <span className={usage.plan === \"FREE\" ? \"text-gray-200 font-semibold\" : \"text-[#00FF8B] font-semibold\"}>\n                  {usage.plan}\n                </span>\n              </>\n            ) : (\n              <span className=\"text-gray-500\">Fa√ßa login para enviar arquivos.</span>\n            )}\n          </div>\n\n          {!usageLoading && !usage ? (\n            <button\n              onClick={() => router.push(\"/login\")}\n              className=\"rounded-xl bg-[#00FF8B] text-black font-semibold px-4 py-2 hover:opacity-90\"\n            >\n              Entrar\n            </button>\n          ) : null}\n        </div>\n\n        {showFreeMeter ? (\n          <div className=\"rounded-2xl border border-[#1A1A1A] bg-[#0F0F0F] p-4\">\n            <div className=\"flex items-center justify-between text-sm\">\n              <div className=\"text-gray-300\">\n                <span className=\"text-gray-500\">Uso mensal (FREE):</span>{\" \"}\n                <span className=\"font-semibold text-white\">\n                  {used}/{limit}\n                </span>\n              </div>\n              <div className=\"text-xs text-gray-500\">{pct}%</div>\n            </div>\n\n            <div className=\"mt-2 h-2 w-full rounded-full bg-[#151515] overflow-hidden\">\n              <div className=\"h-full bg-[#00FF8B]\" style={{ width: `${pct}%` }} />\n            </div>\n\n            {isBlockedFree ? (\n              <div className=\"mt-3 text-sm text-red-200\">\n                Limite atingido. V√° para a p√°gina de planos.\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n      </div>\n\n      {/* Op√ß√µes (como voc√™ pediu) */}\n      <div className=\"mb-6 grid grid-cols-1 lg:grid-cols-2 gap-4\">\n        <div className=\"rounded-2xl border border-[#1A1A1A] bg-[#0F0F0F] p-5\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"text-sm font-semibold text-white\">Quantidade de flashcards</div>\n            <div className=\"text-sm text-gray-200\">{flashcardsCount}</div>\n          </div>\n          <input\n            type=\"range\"\n            min={5}\n            max={30}\n            value={flashcardsCount}\n            onChange={(e) => setFlashcardsCount(parseInt(e.target.value, 10))}\n            className=\"w-full mt-3\"\n          />\n          <div className=\"mt-2 text-xs text-gray-500\">Entre 5 e 30</div>\n\n          <div className=\"mt-5 text-sm font-semibold text-white\">Dificuldade dos flashcards</div>\n          <div className=\"mt-2 flex gap-2\">\n            <Pill\n              active={difficulty === \"easy\"}\n              onClick={() => setDifficulty(\"easy\")}\n              label=\"F√°cil\"\n            />\n            <Pill\n              active={difficulty === \"medium\"}\n              onClick={() => setDifficulty(\"medium\")}\n              label=\"M√©dio\"\n            />\n            <Pill\n              active={difficulty === \"hard\"}\n              onClick={() => setDifficulty(\"hard\")}\n              label=\"Dif√≠cil\"\n            />\n          </div>\n        </div>\n\n        <div className=\"rounded-2xl border border-[#1A1A1A] bg-[#0F0F0F] p-5\">\n          <div className=\"text-sm font-semibold text-white\">Tipo de resumo</div>\n          <div className=\"mt-2 flex gap-2\">\n            <Pill\n              active={summaryStyle === \"bullet\"}\n              onClick={() => setSummaryStyle(\"bullet\")}\n              label=\"Bullet\"\n            />\n            <Pill\n              active={summaryStyle === \"explained\"}\n              onClick={() => setSummaryStyle(\"explained\")}\n              label=\"Explicado\"\n            />\n          </div>\n\n          <div className=\"mt-5 flex items-center justify-between\">\n            <div className=\"text-sm font-semibold text-white\">T√≥picos do resumo</div>\n            <div className=\"text-sm text-gray-200\">{topicsCount}</div>\n          </div>\n          <input\n            type=\"range\"\n            min={3}\n            max={8}\n            value={topicsCount}\n            onChange={(e) => setTopicsCount(parseInt(e.target.value, 10))}\n            className=\"w-full mt-3\"\n          />\n          <div className=\"mt-2 text-xs text-gray-500\">Entre 3 e 8 t√≥picos</div>\n        </div>\n      </div>\n\n      {/* Dropzone (como antes) */}\n      <input\n        ref={inputRef}\n        type=\"file\"\n        className=\"hidden\"\n        onChange={onFileChange}\n        accept=\"image/*,application/pdf,text/plain\"\n      />\n\n      <div\n        onDrop={onDrop}\n        onDragOver={onDragOver}\n        className=\"w-full rounded-2xl border border-dashed border-[#00FF8B]/40 bg-[#0F0F0F] p-10 text-center\"\n      >\n        <div className=\"mx-auto w-14 h-14 rounded-full bg-[#00FF8B]/10 flex items-center justify-center mb-4\">\n          <Upload className=\"w-6 h-6 text-[#00FF8B]\" />\n        </div>\n\n        <div className=\"text-lg font-semibold text-white\">Arraste e solte seu arquivo aqui</div>\n        <div className=\"mt-2 text-sm text-gray-400\">ou clique para selecionar</div>\n\n        <div className=\"mt-3 text-xs text-gray-500 flex justify-center gap-4\">\n          <span>Imagens</span>\n          <span>PDFs</span>\n          <span>Documentos</span>\n        </div>\n\n        <button\n          onClick={onPickFile}\n          disabled={isUploading || isBlockedFree}\n          className=\"mt-6 inline-flex items-center justify-center rounded-xl border border-[#2A2A2A] px-5 py-2 text-gray-200 hover:bg-[#151515] disabled:opacity-60\"\n        >\n          {isUploading ? \"Processando...\" : \"Selecionar arquivo\"}\n        </button>\n\n        {error ? <div className=\"mt-4 text-sm text-red-400\">{error}</div> : null}\n\n        {/* ‚úÖ Sucesso + Bot√µes (voltou!) */}\n        {successInfo ? (\n          <div className=\"mt-6 mx-auto max-w-xl rounded-2xl border border-[#00FF8B]/30 bg-[#0B1410] p-5 text-left\">\n            <div className=\"text-sm text-[#00FF8B] font-semibold\">Conclu√≠do ‚úÖ</div>\n            <div className=\"mt-1 text-white font-semibold text-lg\">{successInfo.topic}</div>\n            <div className=\"mt-2 text-sm text-gray-300\">\n              Material salvo e dispon√≠vel nas abas.\n            </div>\n\n            <div className=\"mt-4 flex flex-col sm:flex-row gap-2\">\n              <button\n                onClick={() => onNavigate?.(\"flashcards\")}\n                className=\"flex-1 rounded-xl bg-[#00FF8B] text-black font-semibold px-4 py-2 hover:opacity-90\"\n              >\n                Ir para Flashcards\n              </button>\n              <button\n                onClick={() => onNavigate?.(\"summary\")}\n                className=\"flex-1 rounded-xl border border-[#00FF8B]/40 text-[#00FF8B] font-semibold px-4 py-2 hover:bg-[#00FF8B]/10\"\n              >\n                Ir para Resumo\n              </button>\n            </div>\n          </div>\n        ) : null}\n      </div>\n\n      {/* Cards (como antes) */}\n      <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <FeatureCard\n          icon={<BookOpen className=\"w-5 h-5 text-[#00FF8B]\" />}\n          title=\"Flashcards Inteligentes\"\n          desc=\"Perguntas e respostas geradas automaticamente\"\n        />\n        <FeatureCard\n          icon={<Sparkles className=\"w-5 h-5 text-[#00FF8B]\" />}\n          title=\"Resumos Estruturados\"\n          desc=\"Conte√∫do organizado em t√≥picos principais\"\n        />\n        <FeatureCard\n          icon={<TrendingUp className=\"w-5 h-5 text-[#00FF8B]\" />}\n          title=\"Acompanhe seu Progresso\"\n          desc=\"Visualize sua evolu√ß√£o nos estudos\"\n        />\n      </div>\n    </section>\n  );\n}\n\nfunction Pill({ active, onClick, label }: { active: boolean; onClick: () => void; label: string }) {\n  return (\n    <button\n      type=\"button\"\n      onClick={onClick}\n      className={\n        active\n          ? \"px-3 py-2 rounded-xl bg-[#00FF8B]/10 text-[#00FF8B] border border-[#00FF8B]/30 text-sm font-semibold\"\n          : \"px-3 py-2 rounded-xl bg-[#141414] text-gray-300 border border-[#2A2A2A] text-sm hover:bg-[#1A1A1A]\"\n      }\n    >\n      {label}\n    </button>\n  );\n}\n\nfunction FeatureCard({ icon, title, desc }: { icon: any; title: string; desc: string }) {\n  return (\n    <div className=\"rounded-2xl border border-[#1A1A1A] bg-[#0F0F0F] p-5\">\n      <div className=\"flex items-center gap-2\">\n        {icon}\n        <div className=\"text-white font-semibold\">{title}</div>\n      </div>\n      <div className=\"mt-2 text-sm text-gray-400\">{desc}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 908, "column": 0}, "map": {"version":3,"sources":["file:///Users/ruangalvao/ProjetosVS/Projetos%20Pessoais/stud.ai-app/app-stud.ai/src/lib/studyProgressStore.ts"],"sourcesContent":["\"use client\";\n\n/**\n * Store simples de progresso (localStorage) + \"events\" para atualizar UI.\n * Compat√≠vel com:\n * - makeProgressKey\n * - makeProgressKeyForDoc\n * - loadProgress\n * - saveProgress\n * - clearProgress\n * - onProgressUpdated\n */\n\ntype ProgressItem = {\n  knownIds: number[];   // ids marcados como \"sei\"\n  reviewIds: number[];  // ids marcados como \"n√£o sei\"\n  currentIndex: number; // √≠ndice atual no deck\n  updatedAt: number;    // timestamp\n};\n\nconst LS_PREFIX = \"studai:progress:v1:\";\n\nfunction safeParse<T>(s: string | null): T | null {\n  if (!s) return null;\n  try {\n    return JSON.parse(s) as T;\n  } catch {\n    return null;\n  }\n}\n\nfunction emit(key: string) {\n  // evento custom local + evento nativo storage\n  window.dispatchEvent(new CustomEvent(\"studai:progress-updated\", { detail: { key } }));\n}\n\nexport function makeProgressKey(userId: string, materialId: string) {\n  return `${LS_PREFIX}${userId}:${materialId}`;\n}\n\n/**\n * Caso seu app trate material como \"docId\" (ou slug/uuid),\n * esse helper mant√©m compatibilidade com imports antigos.\n */\nexport function makeProgressKeyForDoc(userId: string, docId: string) {\n  return `${LS_PREFIX}${userId}:doc:${docId}`;\n}\n\nexport function loadProgress(key: string): ProgressItem | null {\n  if (typeof window === \"undefined\") return null;\n  return safeParse<ProgressItem>(localStorage.getItem(key));\n}\n\nexport function saveProgress(key: string, progress: ProgressItem) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(\n    key,\n    JSON.stringify({\n      knownIds: Array.from(new Set(progress.knownIds || [])),\n      reviewIds: Array.from(new Set(progress.reviewIds || [])),\n      currentIndex: Number.isFinite(progress.currentIndex) ? progress.currentIndex : 0,\n      updatedAt: Date.now(),\n    } satisfies ProgressItem)\n  );\n  emit(key);\n}\n\nexport function clearProgress(key: string) {\n  if (typeof window === \"undefined\") return;\n  localStorage.removeItem(key);\n  emit(key);\n}\n\n/**\n * Listener para componentes reagirem a mudan√ßas de progresso.\n * Retorna um \"unsubscribe\".\n */\nexport function onProgressUpdated(cb: (key: string) => void) {\n  if (typeof window === \"undefined\") return () => {};\n\n  const handler = (ev: Event) => {\n    const anyEv = ev as any;\n    const key = anyEv?.detail?.key;\n    if (typeof key === \"string\") cb(key);\n  };\n\n  window.addEventListener(\"studai:progress-updated\", handler as any);\n\n  // tamb√©m escuta mudan√ßas do localStorage (outra aba)\n  const storageHandler = (ev: StorageEvent) => {\n    if (!ev.key) return;\n    if (ev.key.startsWith(LS_PREFIX)) cb(ev.key);\n  };\n  window.addEventListener(\"storage\", storageHandler);\n\n  return () => {\n    window.removeEventListener(\"studai:progress-updated\", handler as any);\n    window.removeEventListener(\"storage\", storageHandler);\n  };\n}\n"],"names":[],"mappings":";;;;;;;;AAAA;AAoBA,MAAM,YAAY;AAElB,SAAS,UAAa,CAAgB;IACpC,IAAI,CAAC,GAAG,OAAO;IACf,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,UAAM;QACN,OAAO;IACT;AACF;AAEA,SAAS,KAAK,GAAW;IACvB,8CAA8C;IAC9C,OAAO,aAAa,CAAC,IAAI,YAAY,2BAA2B;QAAE,QAAQ;YAAE;QAAI;IAAE;AACpF;AAEO,SAAS,gBAAgB,MAAc,EAAE,UAAkB;IAChE,OAAO,AAAC,GAAc,OAAZ,WAAsB,OAAV,QAAO,KAAc,OAAX;AAClC;AAMO,SAAS,sBAAsB,MAAc,EAAE,KAAa;IACjE,OAAO,AAAC,GAAc,OAAZ,WAA0B,OAAd,QAAO,SAAa,OAAN;AACtC;AAEO,SAAS,aAAa,GAAW;IACtC;;IACA,OAAO,UAAwB,aAAa,OAAO,CAAC;AACtD;AAEO,SAAS,aAAa,GAAW,EAAE,QAAsB;IAC9D;;IACA,aAAa,OAAO,CAClB,KACA,KAAK,SAAS,CAAC;QACb,UAAU,MAAM,IAAI,CAAC,IAAI,IAAI,SAAS,QAAQ,IAAI,EAAE;QACpD,WAAW,MAAM,IAAI,CAAC,IAAI,IAAI,SAAS,SAAS,IAAI,EAAE;QACtD,cAAc,OAAO,QAAQ,CAAC,SAAS,YAAY,IAAI,SAAS,YAAY,GAAG;QAC/E,WAAW,KAAK,GAAG;IACrB;IAEF,KAAK;AACP;AAEO,SAAS,cAAc,GAAW;IACvC;;IACA,aAAa,UAAU,CAAC;IACxB,KAAK;AACP;AAMO,SAAS,kBAAkB,EAAyB;IACzD;;IAEA,MAAM,UAAU,CAAC;YAEH;QADZ,MAAM,QAAQ;QACd,MAAM,MAAM,kBAAA,6BAAA,gBAAA,MAAO,MAAM,cAAb,oCAAA,cAAe,GAAG;QAC9B,IAAI,OAAO,QAAQ,UAAU,GAAG;IAClC;IAEA,OAAO,gBAAgB,CAAC,2BAA2B;IAEnD,qDAAqD;IACrD,MAAM,iBAAiB,CAAC;QACtB,IAAI,CAAC,GAAG,GAAG,EAAE;QACb,IAAI,GAAG,GAAG,CAAC,UAAU,CAAC,YAAY,GAAG,GAAG,GAAG;IAC7C;IACA,OAAO,gBAAgB,CAAC,WAAW;IAEnC,OAAO;QACL,OAAO,mBAAmB,CAAC,2BAA2B;QACtD,OAAO,mBAAmB,CAAC,WAAW;IACxC;AACF","debugId":null}},
    {"offset": {"line": 992, "column": 0}, "map": {"version":3,"sources":["file:///Users/ruangalvao/ProjetosVS/Projetos%20Pessoais/stud.ai-app/app-stud.ai/src/lib/studySessionStore.ts"],"sourcesContent":["export type SessionAction = \"known\" | \"review\";\n\nexport type StudySession = {\n  id: string;\n  docId: string;\n\n  startedAt: string;\n  endedAt?: string;\n\n  mode: \"session\" | \"deck\";\n  sessionSize: number;\n\n  // m√©tricas\n  knownCount: number;\n  reviewCount: number;\n  answeredCount: number;\n\n  durationSec?: number;\n  accuracyPct?: number; // known / (known+review)\n};\n\nconst KEY = \"studai:sessions:v1\";\nconst listeners = new Set<() => void>();\n\nfunction emit() {\n  for (const fn of listeners) {\n    try {\n      fn();\n    } catch {}\n  }\n}\n\nfunction safeParse<T>(raw: string | null): T | null {\n  if (!raw) return null;\n  try {\n    return JSON.parse(raw) as T;\n  } catch {\n    return null;\n  }\n}\n\nfunction uid() {\n  // browser + fallback\n  // @ts-ignore\n  return (typeof crypto !== \"undefined\" && crypto.randomUUID) ? crypto.randomUUID() : `sess_${Date.now()}_${Math.random().toString(16).slice(2)}`;\n}\n\nfunction readAll(): StudySession[] {\n  if (typeof window === \"undefined\") return [];\n  return safeParse<StudySession[]>(localStorage.getItem(KEY)) ?? [];\n}\n\nfunction writeAll(list: StudySession[]) {\n  if (typeof window === \"undefined\") return;\n  localStorage.setItem(KEY, JSON.stringify(list));\n  emit();\n}\n\nexport function startSession(params: {\n  docId: string;\n  mode: \"session\" | \"deck\";\n  sessionSize: number;\n}) {\n  const s: StudySession = {\n    id: uid(),\n    docId: params.docId,\n    startedAt: new Date().toISOString(),\n    mode: params.mode,\n    sessionSize: params.sessionSize,\n    knownCount: 0,\n    reviewCount: 0,\n    answeredCount: 0,\n  };\n\n  const all = readAll();\n  all.unshift(s);\n  writeAll(all);\n  return s.id;\n}\n\nexport function recordSessionAction(sessionId: string, action: SessionAction) {\n  const all = readAll();\n  const i = all.findIndex((x) => x.id === sessionId);\n  if (i < 0) return;\n\n  const s = all[i];\n  const next: StudySession = {\n    ...s,\n    knownCount: action === \"known\" ? s.knownCount + 1 : s.knownCount,\n    reviewCount: action === \"review\" ? s.reviewCount + 1 : s.reviewCount,\n    answeredCount: s.answeredCount + 1,\n  };\n\n  all[i] = next;\n  writeAll(all);\n}\n\nexport function endSession(sessionId: string) {\n  const all = readAll();\n  const i = all.findIndex((x) => x.id === sessionId);\n  if (i < 0) return;\n\n  const s = all[i];\n  const endedAt = new Date().toISOString();\n  const durationSec = Math.max(\n    0,\n    Math.round((new Date(endedAt).getTime() - new Date(s.startedAt).getTime()) / 1000)\n  );\n  const denom = s.knownCount + s.reviewCount;\n  const accuracyPct = denom > 0 ? Math.round((s.knownCount / denom) * 100) : 0;\n\n  all[i] = { ...s, endedAt, durationSec, accuracyPct };\n  writeAll(all);\n}\n\nexport function listSessions(docId?: string) {\n  const all = readAll();\n  const filtered = docId ? all.filter((s) => s.docId === docId) : all;\n  // ordena mais recente primeiro\n  return filtered.sort((a, b) => (b.startedAt || \"\").localeCompare(a.startedAt || \"\"));\n}\n\nexport function onSessionsUpdated(cb: () => void) {\n  listeners.add(cb);\n  return () => listeners.delete(cb);\n}\n\nexport function clearSessions(docId?: string) {\n  const all = readAll();\n  if (!docId) {\n    writeAll([]);\n    return;\n  }\n  writeAll(all.filter((s) => s.docId !== docId));\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1108, "column": 0}, "map": {"version":3,"sources":["file:///Users/ruangalvao/ProjetosVS/Projetos%20Pessoais/stud.ai-app/app-stud.ai/src/app/components/FlashcardsSection.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState, useCallback } from \"react\";\nimport {\n  Flashcard,\n  loadMaterial,\n  onMaterialUpdated,\n} from \"@/lib/studyMaterialStore\";\nimport {\n  loadProgress,\n  saveProgress,\n  makeProgressKey,\n  makeProgressKeyForDoc,\n  clearProgress,\n} from \"@/lib/studyProgressStore\";\nimport {\n  startSession,\n  recordSessionAction,\n  endSession,\n} from \"@/lib/studySessionStore\";\nimport {\n  Check,\n  X,\n  ChevronLeft,\n  ChevronRight,\n  Play,\n  StopCircle,\n  RotateCcw,\n  SlidersHorizontal,\n} from \"lucide-react\";\n\ntype Filter = \"all\" | \"review\" | \"known\";\ntype Mode = \"deck\" | \"session\";\n\nfunction cn(...s: Array<string | false | null | undefined>) {\n  return s.filter(Boolean).join(\" \");\n}\nfunction pct(n: number) {\n  return Math.max(0, Math.min(100, Math.round(n)));\n}\nfunction shuffle<T>(arr: T[]) {\n  const a = [...arr];\n  for (let i = a.length - 1; i > 0; i--) {\n    const j = Math.floor(Math.random() * (i + 1));\n    [a[i], a[j]] = [a[j], a[i]];\n  }\n  return a;\n}\n\nexport default function FlashcardsSection(_props: { data?: any }) {\n  const [topic, setTopic] = useState(\"\");\n  const [cards, setCards] = useState<Flashcard[]>([]);\n  const [docId, setDocId] = useState<string>(\"\");\n\n  const [filter, setFilter] = useState<Filter>(\"all\");\n  const [mode, setMode] = useState<Mode>(\"deck\");\n\n  const [isFlipped, setIsFlipped] = useState(false);\n  const [index, setIndex] = useState(0);\n\n  const [knownIds, setKnownIds] = useState<number[]>([]);\n  const [reviewIds, setReviewIds] = useState<number[]>([]);\n\n  const [sessionSize, setSessionSize] = useState<number>(10);\n  const [sessionActive, setSessionActive] = useState(false);\n  const [sessionQueue, setSessionQueue] = useState<Flashcard[]>([]);\n  const [sessionIndex, setSessionIndex] = useState(0);\n  const [sessionId, setSessionId] = useState<string | null>(null);\n\n  // ---------- Progress keys (doc + legacy) ----------\n  const legacyKey = useMemo(() => makeProgressKey(topic || \"deck\", cards.length || 0), [topic, cards.length]);\n  const docKey = useMemo(() => (docId ? makeProgressKeyForDoc(docId) : \"\"), [docId]);\n\n  // ---------- Load material + progress ----------\n  useEffect(() => {\n    const refresh = () => {\n      const m = loadMaterial();\n      setTopic(m?.topic ?? \"\");\n      setCards(m?.flashcards ?? []);\n      setDocId(m?.docId ?? \"\");\n\n      // carrega progresso: primeiro por docId, depois fallback legacy\n      const pDoc = m?.docId ? loadProgress(makeProgressKeyForDoc(m.docId)) : null;\n      const pLegacy = loadProgress(makeProgressKey(m?.topic ?? \"deck\", m?.flashcards?.length ?? 0));\n\n      const p = pDoc ?? pLegacy;\n\n      setKnownIds(p?.knownIds ?? []);\n      setReviewIds(p?.reviewIds ?? []);\n\n      setFilter(\"all\");\n      setMode(\"deck\");\n      setIndex(0);\n      setIsFlipped(false);\n\n      setSessionActive(false);\n      setSessionQueue([]);\n      setSessionIndex(0);\n      setSessionId(null);\n    };\n\n    refresh();\n    return onMaterialUpdated(refresh);\n  }, []);\n\n  const knownSet = useMemo(() => new Set(knownIds), [knownIds]);\n  const reviewSet = useMemo(() => new Set(reviewIds), [reviewIds]);\n\n  // ---------- Filtered deck (deck mode) ----------\n  const filteredCards = useMemo(() => {\n    if (filter === \"known\") return cards.filter((c) => knownSet.has(c.id));\n    if (filter === \"review\") return cards.filter((c) => reviewSet.has(c.id));\n    return cards;\n  }, [cards, filter, knownSet, reviewSet]);\n\n  // ---------- Active list (deck or session) ----------\n  const activeList = sessionActive ? sessionQueue : filteredCards;\n  const activeIndex = sessionActive ? sessionIndex : index;\n  const current = activeList[activeIndex] ?? null;\n\n  // ---------- Overall progress ----------\n  const doneCount = useMemo(() => {\n    const s = new Set<number>([...knownIds, ...reviewIds]);\n    return s.size;\n  }, [knownIds, reviewIds]);\n\n  const progressPct = useMemo(() => {\n    const total = cards.length || 0;\n    return total ? pct((doneCount / total) * 100) : 0;\n  }, [doneCount, cards.length]);\n\n  const accuracyPct = useMemo(() => {\n    const k = knownIds.length;\n    const r = reviewIds.length;\n    return (k + r) ? pct((k / (k + r)) * 100) : 0;\n  }, [knownIds.length, reviewIds.length]);\n\n  // ---------- Save progress (doc + legacy) ----------\n  const persistProgress = useCallback(\n    (nextKnown: number[], nextReview: number[]) => {\n      const payload = {\n        knownIds: nextKnown,\n        reviewIds: nextReview,\n        updatedAt: new Date().toISOString(),\n      };\n\n      // salva por docId (novo)\n      if (docKey) saveProgress(docKey, payload);\n\n      // salva tamb√©m no legacy para compatibilidade com telas antigas\n      if (legacyKey) saveProgress(legacyKey, payload);\n    },\n    [docKey, legacyKey]\n  );\n\n  // ---------- Helpers ----------\n  function safeSetDeckIndex(next: number) {\n    const total = filteredCards.length;\n    if (!total) return setIndex(0);\n    const clamped = Math.max(0, Math.min(total - 1, next));\n    setIndex(clamped);\n  }\n\n  function safeSetSessionIndex(next: number) {\n    const total = sessionQueue.length;\n    if (!total) return setSessionIndex(0);\n    const clamped = Math.max(0, Math.min(total - 1, next));\n    setSessionIndex(clamped);\n  }\n\n  function goNext() {\n    setIsFlipped(false);\n    if (sessionActive) safeSetSessionIndex(sessionIndex + 1);\n    else safeSetDeckIndex(index + 1);\n  }\n\n  function goPrev() {\n    setIsFlipped(false);\n    if (sessionActive) safeSetSessionIndex(sessionIndex - 1);\n    else safeSetDeckIndex(index - 1);\n  }\n\n  // ---------- Session build ----------\n  function buildSessionDeck(size: number) {\n    const total = cards.length;\n    const want = Math.max(1, Math.min(total || 1, Math.trunc(size || 10)));\n\n    // prioridade: n√£o respondidos -> review -> resto\n    const notDone = cards.filter((c) => !knownSet.has(c.id) && !reviewSet.has(c.id));\n    const review = cards.filter((c) => reviewSet.has(c.id));\n    const rest = cards.filter((c) => knownSet.has(c.id));\n\n    const pool = [...shuffle(notDone), ...shuffle(review), ...shuffle(rest)];\n    return pool.slice(0, want);\n  }\n\n  function startNewSession() {\n    if (!cards.length || !docId) return;\n\n    const deck = buildSessionDeck(sessionSize);\n    setMode(\"session\");\n    setSessionQueue(deck);\n    setSessionIndex(0);\n    setIsFlipped(false);\n    setSessionActive(true);\n\n    const sid = startSession({\n      docId,\n      mode: \"session\",\n      sessionSize: deck.length,\n    });\n    setSessionId(sid);\n  }\n\n  function stopSession() {\n    if (sessionId) endSession(sessionId);\n    setSessionActive(false);\n    setSessionQueue([]);\n    setSessionIndex(0);\n    setSessionId(null);\n    setIsFlipped(false);\n    setMode(\"deck\");\n  }\n\n  // ---------- Mark actions ----------\n  const markKnown = useCallback(() => {\n    if (!current) return;\n\n    const nextKnownSet = new Set(knownIds);\n    const nextReviewSet = new Set(reviewIds);\n\n    nextKnownSet.add(current.id);\n    nextReviewSet.delete(current.id);\n\n    const nextKnown = Array.from(nextKnownSet);\n    const nextReview = Array.from(nextReviewSet);\n\n    setKnownIds(nextKnown);\n    setReviewIds(nextReview);\n    persistProgress(nextKnown, nextReview);\n\n    if (sessionActive && sessionId) recordSessionAction(sessionId, \"known\");\n\n    // fim de sess√£o?\n    if (sessionActive && sessionQueue.length && sessionIndex >= sessionQueue.length - 1) {\n      if (sessionId) endSession(sessionId);\n      stopSession();\n      return;\n    }\n\n    goNext();\n  }, [\n    current,\n    knownIds,\n    reviewIds,\n    persistProgress,\n    sessionActive,\n    sessionId,\n    sessionQueue.length,\n    sessionIndex,\n  ]);\n\n  const markReview = useCallback(() => {\n    if (!current) return;\n\n    const nextKnownSet = new Set(knownIds);\n    const nextReviewSet = new Set(reviewIds);\n\n    nextReviewSet.add(current.id);\n    nextKnownSet.delete(current.id);\n\n    const nextKnown = Array.from(nextKnownSet);\n    const nextReview = Array.from(nextReviewSet);\n\n    setKnownIds(nextKnown);\n    setReviewIds(nextReview);\n    persistProgress(nextKnown, nextReview);\n\n    if (sessionActive && sessionId) recordSessionAction(sessionId, \"review\");\n\n    if (sessionActive && sessionQueue.length && sessionIndex >= sessionQueue.length - 1) {\n      if (sessionId) endSession(sessionId);\n      stopSession();\n      return;\n    }\n\n    goNext();\n  }, [\n    current,\n    knownIds,\n    reviewIds,\n    persistProgress,\n    sessionActive,\n    sessionId,\n    sessionQueue.length,\n    sessionIndex,\n  ]);\n\n  // ---------- Keyboard shortcuts ----------\n  useEffect(() => {\n    function onKey(e: KeyboardEvent) {\n      if (!current) return;\n\n      if (e.key === \" \" || e.key.toLowerCase() === \"enter\") {\n        e.preventDefault();\n        setIsFlipped((v) => !v);\n      }\n      if (e.key === \"ArrowLeft\") {\n        e.preventDefault();\n        markReview();\n      }\n      if (e.key === \"ArrowRight\") {\n        e.preventDefault();\n        markKnown();\n      }\n    }\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, [current, markKnown, markReview]);\n\n  // ---------- Empty state ----------\n  if (!cards.length) {\n    return (\n      <section className=\"w-full max-w-5xl mx-auto mt-10 rounded-2xl border border-white/10 bg-white/5 p-8 text-center\">\n        <h2 className=\"text-2xl font-semibold\">Flashcards</h2>\n        <p className=\"mt-2 opacity-70\">Fa√ßa um upload para gerar flashcards automaticamente.</p>\n      </section>\n    );\n  }\n\n  // ---------- If filter results empty ----------\n  const hasActive = !!current;\n\n  return (\n    <section className=\"w-full max-w-5xl mx-auto mt-10\">\n      {/* Header premium */}\n      <div className=\"rounded-2xl border border-white/10 bg-white/5 p-6\">\n        <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n          <div>\n            <div className=\"text-xs opacity-70\">Flashcards</div>\n            <h2 className=\"text-2xl font-semibold mt-1\">{topic || \"Seu deck\"}</h2>\n            <div className=\"mt-2 text-sm opacity-70\">\n              Atalhos: <b>Enter/Espa√ßo</b> vira ‚Ä¢ <b>‚Üê</b> revisar ‚Ä¢ <b>‚Üí</b> acertei\n            </div>\n          </div>\n\n          <div className=\"flex flex-wrap gap-2\">\n            <Chip tone=\"neutral\" label={`üìö Cards: ${cards.length}`} />\n            <Chip tone=\"neutral\" label={`‚úÖ Feitos: ${doneCount}`} />\n            <Chip tone=\"green\" label={`üéØ Aproveitamento: ${accuracyPct}%`} />\n          </div>\n        </div>\n\n        {/* Progress bar */}\n        <div className=\"mt-5\">\n          <div className=\"flex items-center justify-between text-xs opacity-70\">\n            <span>Progresso geral</span>\n            <span>{progressPct}%</span>\n          </div>\n          <div className=\"mt-2 h-2 w-full rounded-full bg-black/30 overflow-hidden border border-white/10\">\n            <div className=\"h-full rounded-full bg-[#00FF8B]/70\" style={{ width: `${progressPct}%` }} />\n          </div>\n        </div>\n\n        {/* Controls row */}\n        <div className=\"mt-5 flex flex-col lg:flex-row lg:items-center justify-between gap-3\">\n          {/* Filters */}\n          <div className=\"flex flex-wrap items-center gap-2\">\n            <div className=\"inline-flex items-center gap-2 text-xs opacity-70 mr-2\">\n              <SlidersHorizontal className=\"w-4 h-4\" />\n              Filtro:\n            </div>\n            <Pill active={filter === \"all\"} onClick={() => { setFilter(\"all\"); setIsFlipped(false); setIndex(0); }}>\n              Todos\n            </Pill>\n            <Pill active={filter === \"review\"} onClick={() => { setFilter(\"review\"); setIsFlipped(false); setIndex(0); }}>\n              Revisar\n            </Pill>\n            <Pill active={filter === \"known\"} onClick={() => { setFilter(\"known\"); setIsFlipped(false); setIndex(0); }}>\n              Conhecidos\n            </Pill>\n          </div>\n\n          {/* Session controls */}\n          <div className=\"flex flex-wrap items-center gap-2\">\n            {!sessionActive ? (\n              <>\n                <div className=\"text-xs opacity-70 mr-1\">Sess√£o:</div>\n                <input\n                  type=\"number\"\n                  min={1}\n                  max={50}\n                  value={sessionSize}\n                  onChange={(e) => setSessionSize(Math.max(1, Math.min(50, Math.trunc(Number(e.target.value) || 10))))}\n                  className=\"w-24 rounded-xl border border-white/10 bg-black/20 px-3 py-2 text-sm outline-none\"\n                />\n                <button\n                  onClick={startNewSession}\n                  className=\"rounded-2xl border border-[#00FF8B]/30 bg-[#00FF8B]/10 px-4 py-2 text-sm font-semibold text-[#00FF8B] hover:bg-[#00FF8B]/15 inline-flex items-center gap-2\"\n                >\n                  <Play className=\"w-4 h-4\" /> Iniciar\n                </button>\n              </>\n            ) : (\n              <button\n                onClick={stopSession}\n                className=\"rounded-2xl border border-white/10 bg-black/20 px-4 py-2 text-sm hover:bg-black/30 inline-flex items-center gap-2\"\n              >\n                <StopCircle className=\"w-4 h-4\" /> Encerrar sess√£o\n              </button>\n            )}\n\n            <button\n              onClick={() => {\n                // reset s√≥ do deck ativo\n                if (docKey) clearProgress(docKey);\n                if (legacyKey) clearProgress(legacyKey);\n                setKnownIds([]);\n                setReviewIds([]);\n                setIsFlipped(false);\n              }}\n              className=\"rounded-2xl border border-white/10 bg-white/5 px-4 py-2 text-sm hover:bg-white/10 inline-flex items-center gap-2\"\n            >\n              <RotateCcw className=\"w-4 h-4\" /> Reset progresso\n            </button>\n          </div>\n        </div>\n      </div>\n\n      {/* If filtered list empty */}\n      {!hasActive ? (\n        <div className=\"mt-6 rounded-2xl border border-white/10 bg-white/5 p-10 text-center\">\n          <div className=\"text-xl font-semibold\">Nada aqui ainda</div>\n          <div className=\"mt-2 opacity-70\">\n            Esse filtro n√£o tem cards. Tente ‚ÄúTodos‚Äù ou fa√ßa uma sess√£o.\n          </div>\n          <button\n            onClick={() => setFilter(\"all\")}\n            className=\"mt-6 rounded-2xl border border-[#00FF8B]/30 bg-[#00FF8B]/10 px-6 py-3 font-semibold text-[#00FF8B] hover:bg-[#00FF8B]/15\"\n          >\n            Voltar para Todos\n          </button>\n        </div>\n      ) : (\n        <>\n          {/* Card index line */}\n          <div className=\"mt-6 flex items-center justify-between text-sm opacity-80\">\n            <div>\n              {sessionActive ? (\n                <span>\n                  Sess√£o ‚Ä¢ Card <b>{sessionIndex + 1}</b>/<b>{sessionQueue.length}</b>\n                </span>\n              ) : (\n                <span>\n                  Deck ‚Ä¢ Card <b>{index + 1}</b>/<b>{filteredCards.length}</b>\n                </span>\n              )}\n            </div>\n\n            <div className=\"flex items-center gap-2 text-xs opacity-70\">\n              <span className=\"inline-flex items-center gap-1\">\n                ‚úÖ {knownIds.length}\n              </span>\n              <span className=\"inline-flex items-center gap-1\">\n                ‚ùå {reviewIds.length}\n              </span>\n            </div>\n          </div>\n\n          {/* Flip card */}\n          <div className=\"mt-3 rounded-3xl border border-white/10 bg-white/5 p-5\">\n            <div className=\"relative [perspective:1200px]\">\n              <div\n                className={cn(\n                  \"relative w-full min-h-[260px] transition-transform duration-500 [transform-style:preserve-3d]\",\n                  isFlipped ? \"[transform:rotateY(180deg)]\" : \"\"\n                )}\n              >\n                {/* FRONT */}\n                <button\n                  type=\"button\"\n                  onClick={() => setIsFlipped(true)}\n                  className=\"absolute inset-0 rounded-2xl border border-white/10 bg-black/20 p-6 text-left [backface-visibility:hidden] hover:bg-black/25\"\n                >\n                  <div className=\"text-xs opacity-70\">Pergunta</div>\n                  <div className=\"mt-2 text-xl font-semibold leading-relaxed\">\n                    {current!.question}\n                  </div>\n\n                  <div className=\"mt-6 text-sm opacity-70\">\n                    Clique para ver a resposta\n                  </div>\n\n                  <div className=\"mt-3 flex flex-wrap gap-2\">\n                    {knownSet.has(current!.id) ? <Chip tone=\"green\" label=\"‚úÖ Conhecido\" /> : null}\n                    {reviewSet.has(current!.id) ? <Chip tone=\"red\" label=\"‚ùå Revisar\" /> : null}\n                    {current!.difficulty ? <Chip tone=\"neutral\" label={`‚ö° ${current!.difficulty}`} /> : null}\n                  </div>\n                </button>\n\n                {/* BACK */}\n                <button\n                  type=\"button\"\n                  onClick={() => setIsFlipped(false)}\n                  className=\"absolute inset-0 rounded-2xl border border-white/10 bg-black/20 p-6 text-left [transform:rotateY(180deg)] [backface-visibility:hidden] hover:bg-black/25\"\n                >\n                  <div className=\"text-xs opacity-70\">Resposta</div>\n                  <div className=\"mt-2 text-lg leading-relaxed whitespace-pre-wrap opacity-95\">\n                    {current!.answer}\n                  </div>\n\n                  <div className=\"mt-6 text-sm opacity-70\">\n                    Clique para voltar √† pergunta\n                  </div>\n                </button>\n              </div>\n            </div>\n\n            {/* Actions */}\n            <div className=\"mt-5 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3\">\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={goPrev}\n                  disabled={activeIndex <= 0}\n                  className=\"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm hover:bg-white/10 disabled:opacity-40 inline-flex items-center gap-2\"\n                >\n                  <ChevronLeft className=\"w-4 h-4\" /> Anterior\n                </button>\n\n                <button\n                  onClick={goNext}\n                  disabled={activeIndex >= activeList.length - 1}\n                  className=\"rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-sm hover:bg-white/10 disabled:opacity-40 inline-flex items-center gap-2\"\n                >\n                  Pr√≥ximo <ChevronRight className=\"w-4 h-4\" />\n                </button>\n              </div>\n\n              <div className=\"flex items-center gap-2\">\n                <button\n                  onClick={markReview}\n                  className=\"rounded-2xl border border-red-500/25 bg-red-500/10 px-5 py-3 text-sm font-semibold text-red-200 hover:bg-red-500/15 inline-flex items-center gap-2\"\n                >\n                  <X className=\"w-4 h-4\" /> Revisar\n                </button>\n\n                <button\n                  onClick={markKnown}\n                  className=\"rounded-2xl border border-[#00FF8B]/30 bg-[#00FF8B]/10 px-5 py-3 text-sm font-semibold text-[#00FF8B] hover:bg-[#00FF8B]/15 inline-flex items-center gap-2\"\n                >\n                  <Check className=\"w-4 h-4\" /> Acertei\n                </button>\n              </div>\n            </div>\n          </div>\n        </>\n      )}\n    </section>\n  );\n}\n\nfunction Pill({\n  active,\n  onClick,\n  children,\n}: {\n  active?: boolean;\n  onClick?: () => void;\n  children: any;\n}) {\n  return (\n    <button\n      onClick={onClick}\n      className={cn(\n        \"rounded-full px-4 py-2 text-sm border transition\",\n        active\n          ? \"border-[#00FF8B]/30 bg-[#00FF8B]/10 text-[#00FF8B]\"\n          : \"border-white/10 bg-white/5 text-white/70 hover:bg-white/10\"\n      )}\n    >\n      {children}\n    </button>\n  );\n}\n\nfunction Chip({ label, tone }: { label: string; tone: \"green\" | \"red\" | \"neutral\" }) {\n  const cls =\n    tone === \"green\"\n      ? \"border-[#00FF8B]/25 bg-[#00FF8B]/10 text-[#00FF8B]\"\n      : tone === \"red\"\n      ? \"border-red-500/25 bg-red-500/10 text-red-200\"\n      : \"border-white/10 bg-black/20 text-white/70\";\n  return <span className={cn(\"text-xs px-3 py-1 rounded-full border\", cls)}>{label}</span>;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2221, "column": 0}, "map": {"version":3,"sources":["file:///Users/ruangalvao/ProjetosVS/Projetos%20Pessoais/stud.ai-app/app-stud.ai/src/app/components/SummarySection.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { loadMaterial, onMaterialUpdated } from \"@/lib/studyMaterialStore\";\n\nfunction cn(...s: Array<string | false | null | undefined>) {\n  return s.filter(Boolean).join(\" \");\n}\n\nfunction lengthLabel(l?: string) {\n  if (l === \"short\") return \"Curto\";\n  if (l === \"long\") return \"Longo\";\n  if (l === \"medium\") return \"M√©dio\";\n  return \"‚Äî\";\n}\n\nexport default function SummarySection(_props: { data?: any }) {\n  const [topic, setTopic] = useState<string>(\"\");\n  const [tags, setTags] = useState<string[]>([]);\n  const [summary, setSummary] = useState<any>(null);\n  const [openId, setOpenId] = useState<number | null>(null);\n\n  useEffect(() => {\n    const refresh = () => {\n      const m = loadMaterial();\n      setTopic(m?.topic ?? \"\");\n      setTags(m?.tags ?? []);\n      setSummary(m?.summary ?? null);\n      setOpenId(m?.summary?.mainTopics?.[0]?.id ?? null);\n    };\n\n    refresh();\n    return onMaterialUpdated(refresh);\n  }, []);\n\n  const hasQuotes = useMemo(() => (summary?.sourceQuotes?.length ?? 0) > 0, [summary]);\n  const length = lengthLabel(summary?.length);\n\n  if (!summary) {\n    return (\n      <section className=\"w-full max-w-5xl mx-auto mt-10 rounded-2xl border border-white/10 bg-white/5 p-8 text-center\">\n        <h2 className=\"text-2xl font-semibold\">Resumos</h2>\n        <p className=\"mt-2 opacity-70\">Fa√ßa um upload para gerar um resumo automaticamente.</p>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"w-full max-w-5xl mx-auto mt-10\">\n      {/* Header premium */}\n      <div className=\"rounded-2xl border border-white/10 bg-white/5 p-6\">\n        <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n          <div>\n            <div className=\"text-xs opacity-70\">Resumo</div>\n            <h2 className=\"text-2xl font-semibold mt-1\">\n              {topic ? `${topic} ‚Äî ${summary.title}` : summary.title}\n            </h2>\n            <div className=\"mt-2 text-sm opacity-70\">\n              Leitura r√°pida + t√≥picos principais no padr√£o do app.\n            </div>\n          </div>\n\n          <div className=\"flex flex-wrap gap-2\">\n            <Chip tone=\"green\" label={`üìù ${length}`} />\n            <Chip tone=\"neutral\" label={`üìå ${summary?.mainTopics?.length ?? 0} t√≥picos`} />\n            <Chip\n              tone=\"neutral\"\n              label={hasQuotes ? `üîé ${summary.sourceQuotes.length} trechos` : \"üîé sem trechos\"}\n            />\n          </div>\n        </div>\n\n        {tags?.length ? (\n          <div className=\"mt-4 flex flex-wrap gap-2\">\n            {tags.slice(0, 12).map((t: string) => (\n              <span\n                key={t}\n                className=\"text-xs px-3 py-1 rounded-full border border-white/10 bg-black/20 text-white/70\"\n              >\n                #{t}\n              </span>\n            ))}\n          </div>\n        ) : null}\n      </div>\n\n      {/* T√≥picos (accordion premium) */}\n      <div className=\"mt-6 space-y-3\">\n        {(summary.mainTopics || []).map((t: any) => {\n          const opened = openId === t.id;\n          return (\n            <div key={t.id} className=\"rounded-2xl border border-white/10 bg-white/5 overflow-hidden\">\n              <button\n                onClick={() => setOpenId(opened ? null : t.id)}\n                className=\"w-full flex items-center justify-between gap-3 p-5 hover:bg-white/5\"\n              >\n                <div className=\"flex items-center gap-3 text-left\">\n                  <div className=\"text-xl\">{t.icon || \"üìò\"}</div>\n                  <div>\n                    <div className=\"font-semibold\">{t.title}</div>\n                    {Array.isArray(t.tags) && t.tags.length ? (\n                      <div className=\"mt-1 text-xs opacity-70\">\n                        {t.tags.slice(0, 4).map((x: string) => `#${x}`).join(\"  \")}\n                      </div>\n                    ) : (\n                      <div className=\"mt-1 text-xs opacity-60\">Clique para expandir</div>\n                    )}\n                  </div>\n                </div>\n\n                <div className={cn(\"text-xs opacity-70\", opened && \"opacity-100\")}>\n                  {opened ? \"Fechar\" : \"Abrir\"}\n                </div>\n              </button>\n\n              {opened ? (\n                <div className=\"px-5 pb-5\">\n                  <div className=\"rounded-2xl border border-white/10 bg-black/20 p-5\">\n                    <p className=\"opacity-90 leading-relaxed whitespace-pre-wrap\">{t.content}</p>\n                  </div>\n                </div>\n              ) : null}\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Pontos-chave (cards) */}\n      {summary.keyPoints?.length ? (\n        <div className=\"mt-6 rounded-2xl border border-white/10 bg-white/5 p-6\">\n          <div className=\"flex items-center justify-between gap-3 flex-wrap\">\n            <h3 className=\"text-lg font-semibold\">Pontos-chave</h3>\n            <span className=\"text-xs opacity-70\">{summary.keyPoints.length} itens</span>\n          </div>\n\n          <ul className=\"mt-4 space-y-2\">\n            {summary.keyPoints.map((k: string, i: number) => (\n              <li key={i} className=\"rounded-xl border border-white/10 bg-black/20 p-3 opacity-90\">\n                {k}\n              </li>\n            ))}\n          </ul>\n        </div>\n      ) : null}\n\n      {/* Trechos/Evid√™ncias */}\n      <div className=\"mt-6 rounded-2xl border border-white/10 bg-white/5 p-6\">\n        <div className=\"flex items-center justify-between flex-wrap gap-3\">\n          <h3 className=\"text-lg font-semibold\">Trechos do material</h3>\n          <div className=\"text-xs opacity-70\">\n            {hasQuotes ? `${summary.sourceQuotes.length} trecho(s)` : \"Sem trechos dispon√≠veis\"}\n          </div>\n        </div>\n\n        {!hasQuotes ? (\n          <p className=\"mt-3 opacity-70\">\n            Se o arquivo for imagem com texto pouco leg√≠vel ou PDF sem extra√ß√£o, a IA pode n√£o conseguir citar.\n          </p>\n        ) : (\n          <div className=\"mt-5 grid grid-cols-1 md:grid-cols-2 gap-4\">\n            {summary.sourceQuotes.map((q: any, i: number) => (\n              <div key={i} className=\"rounded-2xl border border-white/10 bg-black/20 p-5\">\n                <div className=\"text-xs opacity-70\">Trecho</div>\n                <p className=\"mt-2 italic opacity-90\">‚Äú{q.quote}‚Äù</p>\n                <div className=\"mt-4 text-xs opacity-70\">Por que importa</div>\n                <p className=\"mt-2 opacity-85\">{q.whyItMatters}</p>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </section>\n  );\n}\n\nfunction Chip({ label, tone }: { label: string; tone: \"green\" | \"red\" | \"neutral\" }) {\n  const cls =\n    tone === \"green\"\n      ? \"border-[#00FF8B]/25 bg-[#00FF8B]/10 text-[#00FF8B]\"\n      : tone === \"red\"\n      ? \"border-red-500/25 bg-red-500/10 text-red-200\"\n      : \"border-white/10 bg-black/20 text-white/70\";\n  return <span className={cn(\"text-xs px-3 py-1 rounded-full border\", cls)}>{label}</span>;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2699, "column": 0}, "map": {"version":3,"sources":["file:///Users/ruangalvao/ProjetosVS/Projetos%20Pessoais/stud.ai-app/app-stud.ai/src/app/components/ProgressSection.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useMemo, useState } from \"react\";\nimport { loadMaterial, onMaterialUpdated } from \"@/lib/studyMaterialStore\";\nimport { makeProgressKey, loadProgress, onProgressUpdated, clearProgress } from \"@/lib/studyProgressStore\";\n\nfunction cn(...s: Array<string | false | null | undefined>) {\n  return s.filter(Boolean).join(\" \");\n}\nfunction pct(n: number) {\n  return Math.max(0, Math.min(100, Math.round(n)));\n}\nfunction uniq(arr: number[]) {\n  return Array.from(new Set(arr));\n}\n\nexport default function ProgressSection() {\n  const [topic, setTopic] = useState<string>(\"\");\n  const [totalCards, setTotalCards] = useState<number>(0);\n  const [progressKey, setProgressKey] = useState<string>(\"\");\n\n  const [knownIds, setKnownIds] = useState<number[]>([]);\n  const [reviewIds, setReviewIds] = useState<number[]>([]);\n  const [updatedAt, setUpdatedAt] = useState<string | null>(null);\n\n  useEffect(() => {\n    const refresh = () => {\n      const m = loadMaterial();\n      const count = m?.flashcards?.length ?? 0;\n\n      setTopic(m?.topic ?? \"\");\n      setTotalCards(count);\n\n      const key = makeProgressKey(m?.topic ?? \"deck\", count);\n      setProgressKey(key);\n\n      const p = loadProgress(key);\n      setKnownIds(p?.knownIds ?? []);\n      setReviewIds(p?.reviewIds ?? []);\n      setUpdatedAt(p?.updatedAt ?? null);\n    };\n\n    refresh();\n    const off1 = onMaterialUpdated(refresh);\n    const off2 = onProgressUpdated(refresh);\n    return () => {\n      off1?.();\n      off2?.();\n    };\n  }, []);\n\n  const known = useMemo(() => new Set(knownIds), [knownIds]);\n  const review = useMemo(() => new Set(reviewIds), [reviewIds]);\n\n  const doneCount = uniq([...knownIds, ...reviewIds]).length;\n  const donePct = totalCards ? pct((doneCount / totalCards) * 100) : 0;\n\n  const knownCount = known.size;\n  const reviewCount = review.size;\n  const remainingCount = Math.max(0, totalCards - doneCount);\n\n  if (!totalCards) {\n    return (\n      <section className=\"w-full max-w-5xl mx-auto mt-10 rounded-2xl border border-white/10 bg-white/5 p-8 text-center\">\n        <h2 className=\"text-2xl font-semibold\">Progresso</h2>\n        <p className=\"mt-2 opacity-70\">Gere um material (upload) para acompanhar seu progresso.</p>\n      </section>\n    );\n  }\n\n  return (\n    <section className=\"w-full max-w-5xl mx-auto mt-10\">\n      {/* Header premium */}\n      <div className=\"rounded-2xl border border-white/10 bg-white/5 p-6\">\n        <div className=\"flex flex-col md:flex-row md:items-start md:justify-between gap-4\">\n          <div>\n            <div className=\"text-xs opacity-70\">Progresso</div>\n            <h2 className=\"text-2xl font-semibold mt-1\">{topic || \"Seu deck\"}</h2>\n            <div className=\"mt-2 text-sm opacity-70\">\n              Acompanhe seu avan√ßo no mesmo padr√£o visual do Flashcards.\n            </div>\n          </div>\n\n          <div className=\"flex flex-wrap gap-2\">\n            <Chip tone=\"green\" label={`‚úÖ Conhecidos: ${knownCount}`} />\n            <Chip tone=\"red\" label={`‚ùå Revisar: ${reviewCount}`} />\n            <Chip tone=\"neutral\" label={`‚è≥ Restantes: ${remainingCount}`} />\n          </div>\n        </div>\n\n        {/* Progress bar */}\n        <div className=\"mt-5\">\n          <div className=\"flex items-center justify-between text-xs opacity-70\">\n            <span>Progresso geral</span>\n            <span>{donePct}%</span>\n          </div>\n          <div className=\"mt-2 h-2 w-full rounded-full bg-black/30 overflow-hidden border border-white/10\">\n            <div className=\"h-full rounded-full bg-[#00FF8B]/70\" style={{ width: `${donePct}%` }} />\n          </div>\n\n          <div className=\"mt-3 text-xs opacity-60\">\n            {updatedAt ? `√öltima atualiza√ß√£o: ${new Date(updatedAt).toLocaleString()}` : \"Ainda sem atualiza√ß√µes\"}\n          </div>\n        </div>\n\n        {/* Action row */}\n        <div className=\"mt-5 flex flex-col sm:flex-row items-center justify-between gap-3\">\n          <div className=\"text-sm opacity-70\">\n            Total de cards: <b className=\"opacity-90\">{totalCards}</b> ‚Ä¢ Conclu√≠dos:{\" \"}\n            <b className=\"opacity-90\">{doneCount}</b>\n          </div>\n\n          <button\n            onClick={() => {\n              if (!progressKey) return;\n              clearProgress(progressKey);\n            }}\n            className=\"rounded-2xl border border-white/10 bg-white/5 px-5 py-3 text-sm hover:bg-white/10\"\n          >\n            Limpar progresso deste deck\n          </button>\n        </div>\n      </div>\n\n      {/* Breakdown premium */}\n      <div className=\"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4\">\n        <StatCard title=\"Conhecidos\" value={knownCount} subtitle=\"Voc√™ marcou como acertei\" tone=\"green\" />\n        <StatCard title=\"Revisar\" value={reviewCount} subtitle=\"Precisa refor√ßar\" tone=\"red\" />\n        <StatCard title=\"Restantes\" value={remainingCount} subtitle=\"Ainda n√£o avaliados\" tone=\"neutral\" />\n      </div>\n\n      {/* Dica */}\n      <div className=\"mt-6 rounded-2xl border border-white/10 bg-white/5 p-6\">\n        <div className=\"font-semibold\">Dica de estudo</div>\n        <p className=\"mt-2 opacity-70 leading-relaxed\">\n          Use sess√µes curtas (10‚Äì20 cards) e marque ‚ÄúRevisar‚Äù sem medo. O ideal √© voltar nesses cards no dia seguinte.\n        </p>\n      </div>\n    </section>\n  );\n}\n\nfunction Chip({ label, tone }: { label: string; tone: \"green\" | \"red\" | \"neutral\" }) {\n  const cls =\n    tone === \"green\"\n      ? \"border-[#00FF8B]/25 bg-[#00FF8B]/10 text-[#00FF8B]\"\n      : tone === \"red\"\n      ? \"border-red-500/25 bg-red-500/10 text-red-200\"\n      : \"border-white/10 bg-black/20 text-white/70\";\n  return <span className={cn(\"text-xs px-3 py-1 rounded-full border\", cls)}>{label}</span>;\n}\n\nfunction StatCard({\n  title,\n  value,\n  subtitle,\n  tone,\n}: {\n  title: string;\n  value: number;\n  subtitle: string;\n  tone: \"green\" | \"red\" | \"neutral\";\n}) {\n  const border =\n    tone === \"green\"\n      ? \"border-[#00FF8B]/20\"\n      : tone === \"red\"\n      ? \"border-red-500/20\"\n      : \"border-white/10\";\n\n  const bg =\n    tone === \"green\"\n      ? \"bg-[#00FF8B]/10\"\n      : tone === \"red\"\n      ? \"bg-red-500/10\"\n      : \"bg-black/20\";\n\n  const text =\n    tone === \"green\" ? \"text-[#00FF8B]\" : tone === \"red\" ? \"text-red-200\" : \"text-white/80\";\n\n  return (\n    <div className={cn(\"rounded-2xl border bg-white/5 p-6\", border)}>\n      <div className=\"text-xs opacity-70\">{title}</div>\n      <div className={cn(\"mt-2 text-3xl font-bold\", text)}>{value}</div>\n      <div className={cn(\"mt-3 rounded-xl border p-3 text-sm opacity-90\", border, bg)}>{subtitle}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3145, "column": 0}, "map": {"version":3,"sources":["file:///Users/ruangalvao/ProjetosVS/Projetos%20Pessoais/stud.ai-app/app-stud.ai/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Upload, Sparkles, BookOpen, TrendingUp, Trophy, Users } from \"lucide-react\";\nimport UploadSection from \"./components/UploadSection\";\nimport FlashcardsSection from \"./components/FlashcardsSection\";\nimport SummarySection from \"./components/SummarySection\";\nimport ProgressSection from \"./components/ProgressSection\";\nimport { loadMaterial, onMaterialUpdated } from \"@/lib/studyMaterialStore\";\n\ntype Section = \"upload\" | \"flashcards\" | \"summary\" | \"progress\";\n\nexport default function Home() {\n  const [activeSection, setActiveSection] = useState<Section>(\"upload\");\n  const [studyData, setStudyData] = useState<any>(null);\n\n  // üî• carrega do localStorage ao abrir e mant√©m sincronizado\n  useEffect(() => {\n    const current = loadMaterial();\n    if (current) setStudyData(current);\n\n    const unsub = onMaterialUpdated(() => {\n      const latest = loadMaterial();\n      setStudyData(latest);\n    });\n\n    return unsub;\n  }, []);\n\n  return (\n    <div className=\"min-h-screen bg-[#0D0D0D]\">\n      <header className=\"border-b border-[#1A1A1A] backdrop-blur-sm bg-[#0D0D0D]/80 sticky top-0 z-50\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center gap-2\">\n              <div className=\"w-8 h-8 rounded-lg bg-gradient-to-br from-[#00FF8B] to-[#007B5F] flex items-center justify-center\">\n                <Sparkles className=\"w-5 h-5 text-[#0D0D0D]\" />\n              </div>\n              <h1 className=\"text-xl sm:text-2xl font-bold bg-gradient-to-r from-[#00FF8B] to-[#007B5F] bg-clip-text text-transparent\">\n                Stud.ai\n              </h1>\n            </div>\n\n            <nav className=\"hidden md:flex items-center gap-1\">\n              <NavButton icon={Upload} label=\"Upload\" active={activeSection === \"upload\"} onClick={() => setActiveSection(\"upload\")} />\n              <NavButton icon={BookOpen} label=\"FlashCards\" active={activeSection === \"flashcards\"} onClick={() => setActiveSection(\"flashcards\")} />\n              <NavButton icon={Sparkles} label=\"Resumos\" active={activeSection === \"summary\"} onClick={() => setActiveSection(\"summary\")} />\n              <NavButton icon={TrendingUp} label=\"Progresso\" active={activeSection === \"progress\"} onClick={() => setActiveSection(\"progress\")} />\n            </nav>\n\n            <div className=\"hidden sm:flex items-center gap-2 px-3 py-1.5 rounded-full bg-[#1A1A1A] border border-[#00FF8B]/20\">\n              <Trophy className=\"w-4 h-4 text-[#00FF8B]\" />\n              <span className=\"text-sm font-medium\">N√≠vel 5</span>\n            </div>\n          </div>\n\n          <div className=\"md:hidden flex items-center gap-1 pb-3 overflow-x-auto\">\n            <NavButton icon={Upload} label=\"Upload\" active={activeSection === \"upload\"} onClick={() => setActiveSection(\"upload\")} mobile />\n            <NavButton icon={BookOpen} label=\"Cards\" active={activeSection === \"flashcards\"} onClick={() => setActiveSection(\"flashcards\")} mobile />\n            <NavButton icon={Sparkles} label=\"Resumos\" active={activeSection === \"summary\"} onClick={() => setActiveSection(\"summary\")} mobile />\n            <NavButton icon={TrendingUp} label=\"Progresso\" active={activeSection === \"progress\"} onClick={() => setActiveSection(\"progress\")} mobile />\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8\">\n        {activeSection === \"upload\" && (\n          <UploadSection\n            onDataProcessed={setStudyData}\n            onNavigate={(section) => setActiveSection(section)}\n          />\n        )}\n\n        {activeSection === \"flashcards\" && <FlashcardsSection data={studyData} />}\n        {activeSection === \"summary\" && <SummarySection data={studyData} />}\n        {activeSection === \"progress\" && <ProgressSection />}\n      </main>\n\n      <footer className=\"border-t border-[#1A1A1A] mt-12 py-8\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex flex-col sm:flex-row items-center justify-between gap-4\">\n            <div className=\"flex items-center gap-2 text-sm text-gray-400\">\n              <Users className=\"w-4 h-4 text-[#00FF8B]\" />\n              <span>+1.2k estudantes ativos hoje</span>\n            </div>\n            <div className=\"text-sm text-gray-500\">Feito com üíö para estudantes</div>\n          </div>\n        </div>\n      </footer>\n    </div>\n  );\n}\n\nfunction NavButton({\n  icon: Icon,\n  label,\n  active,\n  onClick,\n  mobile = false,\n}: {\n  icon: any;\n  label: string;\n  active: boolean;\n  onClick: () => void;\n  mobile?: boolean;\n}) {\n  return (\n    <button\n      onClick={onClick}\n      className={`\n        flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-all duration-300\n        ${mobile ? \"text-xs whitespace-nowrap\" : \"text-sm\"}\n        ${\n          active\n            ? \"bg-[#00FF8B]/10 text-[#00FF8B] border border-[#00FF8B]/30\"\n            : \"text-gray-400 hover:text-white hover:bg-[#1A1A1A]\"\n        }\n      `}\n    >\n      <Icon className=\"w-4 h-4\" />\n      <span>{label}</span>\n    </button>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}